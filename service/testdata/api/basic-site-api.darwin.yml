openapi: "3.0.0"
info:
  version: 1.0.0
  title: Basic Site
x-weos-plugins:
  - &weosPlugin
    filename: testdata/plugins/test.darwin.so
    config:
      mysql:
        host: localhost
        user: root
        password: root
paths:
  /:
    get:
      summary: Landing page of the site
      responses:
        '200':
          description: Landing page
          content:
            text/html:
              example: |
                <html>
                  <head>
                      <title>Landing Page</title>
                  </head>
                  <body>
                    This is a landing page
                  </body>
                </html>
              schema:
                type: string
  /about:
    get:
      summary: About Page
      x-weos-config:
        middleware:
          - plugin: *weosPlugin
            handler: HelloWorld
            config:
              postgres:
                host: db
      responses:
        '200':
          description: About Page
          content:
            text/html:
              example: |
                <html>
                  <head>
                      <title>Landing Page</title>
                  </head>
                  <body>
                    This is a landing page
                  </body>
                </html>
              schema:
                type: string